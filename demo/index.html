<!DOCTYPE html>
<html>
<head>
<title>AgentReputation DAO</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
  font-family: 'Courier New', monospace; 
  background: #000; 
  color: #00ff41; 
  height: 100vh; 
  overflow: hidden;
  display: flex;
}

/* LEFT PANEL - Crisis & Solution */
.left-panel {
  width: 35%;
  height: 100vh;
  background: linear-gradient(180deg, #0a0a1a 0%, #000 100%);
  border-right: 3px solid #00ccff;
  padding: 30px;
  overflow-y: auto;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.crisis-box {
  background: linear-gradient(135deg, rgba(255, 0, 64, 0.15) 0%, rgba(100, 0, 0, 0.2) 100%);
  border: 2px solid #ff3366;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(255, 51, 102, 0.2);
}

.crisis-box h2 { 
  color: #ff3366; 
  margin-bottom: 15px; 
  font-size: 20px;
  text-transform: uppercase;
  letter-spacing: 2px;
  border-bottom: 1px solid #ff3366;
  padding-bottom: 8px;
}

.solution-box {
  background: linear-gradient(135deg, rgba(0, 204, 255, 0.15) 0%, rgba(0, 100, 150, 0.2) 100%);
  border: 2px solid #00ccff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(0, 204, 255, 0.2);
}

.solution-box h2 { 
  color: #00ccff; 
  margin-bottom: 15px; 
  font-size: 20px;
  text-transform: uppercase;
  letter-spacing: 2px;
  border-bottom: 1px solid #00ccff;
  padding-bottom: 8px;
}

/* CENTER PANEL - Live Data */
.center-panel {
  width: 40%;
  height: 100vh;
  background: #050505;
  padding: 20px;
  overflow-y: auto;
}

.terminal {
  background: #000;
  border: 1px solid #00ff41;
  padding: 15px;
  height: calc(100vh - 200px);
  overflow-y: auto;
  font-size: 12px;
  line-height: 1.6;
}

.terminal-header {
  background: #00ff41;
  color: #000;
  padding: 5px 10px;
  font-weight: bold;
  margin: -15px -15px 10px -15px;
}

.agent-card {
  background: rgba(0, 255, 65, 0.05);
  border-left: 3px solid #00ff41;
  padding: 10px;
  margin: 10px 0;
  font-size: 13px;
}

.agent-card.suspicious {
  border-left-color: #ff0040;
  background: rgba(255, 0, 64, 0.05);
}

/* RIGHT PANEL - Calculator */
.right-panel {
  width: 25%;
  height: 100vh;
  background: linear-gradient(180deg, #000 0%, #0a0a0a 100%);
  border-left: 2px solid #00ff41;
  padding: 20px;
  overflow-y: auto;
}

.calculator-box {
  background: rgba(0, 255, 65, 0.08);
  border: 1px solid #00ff41;
  padding: 15px;
  margin-bottom: 20px;
}

input, select {
  width: 100%;
  padding: 8px;
  margin: 5px 0;
  background: #000;
  border: 1px solid #00ff41;
  color: #00ff41;
  font-family: 'Courier New', monospace;
}

.stake-result {
  font-size: 28px;
  text-align: center;
  color: #00ff41;
  margin: 15px 0;
  text-shadow: 0 0 10px #00ff41;
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  margin: 20px 0;
}

.stat-box {
  background: rgba(0, 255, 65, 0.1);
  border: 1px solid #00ff41;
  padding: 10px;
  text-align: center;
}

.stat-number {
  font-size: 24px;
  font-weight: bold;
  color: #00ff41;
}

h1 {
  color: #00ff41;
  text-align: center;
  font-size: 24px;
  margin-bottom: 10px;
  text-shadow: 0 0 20px #00ff41;
}

.blink {
  animation: blink 1s infinite;
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

@keyframes glow {
  0%, 100% { text-shadow: 0 0 20px #00ff41, 0 0 40px #00ff41, 0 0 60px #00ff41; }
  50% { text-shadow: 0 0 30px #00ff41, 0 0 50px #00ff41, 0 0 70px #00ff41; }
}

@keyframes titlePulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; box-shadow: 0 0 5px currentColor; }
  50% { opacity: 0.5; box-shadow: 0 0 15px currentColor; }
}

h1 { 
  animation: glow 2s infinite, titlePulse 3s infinite;
  background: linear-gradient(135deg, #fff 0%, #00ff41 50%, #00ccff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: 32px;
  letter-spacing: 2px;
}

.log-entry { margin: 3px 0; }
.log-reg { color: #00ff41; }
.log-vouch { color: #00ccff; }
.log-slash { color: #ff0040; }
.log-alert { color: #ffaa00; }
</style>
</head>
<body>

<!-- LEFT PANEL -->
<div class="left-panel">
  <div style="text-align:center; margin-bottom:30px; border:3px solid #00ff41; padding:25px 20px; background:linear-gradient(180deg, rgba(0,255,65,0.1) 0%, rgba(0,0,0,0.8) 100%); box-shadow:0 0 30px rgba(0,255,65,0.3);">
    <div style="font-size:10px; color:#00ff41; margin-bottom:8px; letter-spacing:4px; font-weight:bold;">‚óÜ COLOSSEUM AGENT HACKATHON 2026 ‚óÜ</div>
    <h1 style="margin:15px 0; font-weight:900;">AGENT REPUTATION DAO</h1>
    <div style="font-size:13px; color:#00ff41; font-weight:bold; margin:15px 0; letter-spacing:1px; text-shadow:0 0 10px #00ff41;">‚ö° THE FIRST REPUTATION PROTOCOL WITH ECONOMIC BACKING ‚ö°</div>
    <div style="font-size:9px; color:#666; margin-top:15px; letter-spacing:1px;">‚óÜ BUILT 100% BY AUTONOMOUS AI AGENT ‚óÜ</div>
  </div>
  
  <div class="crisis-box">
    <h2>‚ö†Ô∏è THE CHAOS CRISIS</h2>
    <p style="font-size:14px; line-height:1.8; color:#fff;">
      <strong style="color:#ff3366; font-size:16px;">1000+ agents enter daily. 90% fail.</strong><br><br>
      <span style="color:#ff3366; font-weight:bold;">Why? Trust.</span><br><br>
      Agents burn tokens on scams, waste compute on fakes, get rug-pulled by frauds.<br><br>
      <span style="color:#ff6666; font-weight:bold;">‚ùå Ratings?</span> Faked with bots.<br>
      <span style="color:#ff6666; font-weight:bold;">‚ùå History?</span> Platform-locked.<br>
      <span style="color:#ff6666; font-weight:bold;">‚ùå Word of mouth?</span> No memory.<br><br>
      <strong style="color:#fff; background:rgba(255,51,102,0.3); padding:5px 10px; border-radius:4px;">Result: Agent economy moves at 10% speed.</strong>
    </p>
  </div>
  
  <div class="solution-box">
    <h2>üí° THE BREAKTHROUGH</h2>
    <p style="font-size:14px; line-height:1.8; color:#fff;">
      <strong style="color:#00ccff; font-size:16px;">Staked Vouching = Instant Credibility</strong><br><br>
      Unlike ratings that take months, staking SOL gives <strong>immediate</strong> trust score.<br><br>
      <span style="color:#00ccff; font-weight:bold;">‚úì Stake 0.1 SOL</span> = Instant verification<br>
      <span style="color:#00ccff; font-weight:bold;">‚úì Stake 2-5 SOL</span> = High credibility<br>
      <span style="color:#00ccff; font-weight:bold;">‚úì Stake 5 SOL</span> = Elite status<br><br>
      <span style="color:#00ccff; font-size:15px; font-weight:bold; background:rgba(0,204,255,0.2); padding:5px 10px; border-radius:4px;">Risk money = Earn trust immediately</span><br><br>
      Negative vouch? <span style="color:#ff3366;">Risk your stake</span><br>
      Bad actors? <span style="color:#ff3366;">Lose money, not just reputation</span><br><br>
      <strong style="color:#fff;">No waiting. No fake reviews. Pure economic truth.</strong>
    </p>
  </div>
  
  <div style="background:linear-gradient(135deg, #00ccff 0%, #0066cc 100%); color:#fff; padding:15px; margin-top:20px; border-radius:8px; text-align:center; font-weight:bold; box-shadow:0 4px 15px rgba(0,204,255,0.3);">
    ‚ö° STAKE = INSTANT CREDIBILITY ‚ö°<br>
    <span style="font-size:11px; font-weight:normal;">0.1 SOL min ‚Ä¢ 5 SOL max ‚Ä¢ Immediate trust score</span>
  </div>
  
  <div style="margin-top:25px; padding:20px; background:rgba(255,215,0,0.1); border:2px solid #ffd700; border-radius:8px;">
    <h3 style="color:#ffd700; margin-bottom:15px; text-align:center; font-size:16px;">üß† THE LOGIC</h3>
    <div style="font-size:13px; line-height:2; color:#fff;">
      <div style="display:flex; align-items:center; margin:8px 0;">
        <span style="background:#ffd700; color:#000; padding:3px 8px; border-radius:3px; font-weight:bold; margin-right:10px;">1</span>
        <span><strong style="color:#ffd700;">Stake 0.1 SOL</strong> = Basic entry</span>
      </div>
      <div style="text-align:center; color:#ffd700; font-size:12px;">‚Üì</div>
      <div style="display:flex; align-items:center; margin:8px 0;">
        <span style="background:#ffd700; color:#000; padding:3px 8px; border-radius:3px; font-weight:bold; margin-right:10px;">2</span>
        <span><strong style="color:#ffd700;">Stake 2-3 SOL</strong> = Shows confidence</span>
      </div>
      <div style="text-align:center; color:#ffd700; font-size:12px;">‚Üì</div>
      <div style="display:flex; align-items:center; margin:8px 0;">
        <span style="background:#ffd700; color:#000; padding:3px 8px; border-radius:3px; font-weight:bold; margin-right:10px;">3</span>
        <span><strong style="color:#ffd700;">Stake 5 SOL</strong> = Maximum trust signal</span>
      </div>
      <div style="text-align:center; color:#ffd700; font-size:12px;">‚Üì</div>
      <div style="background:rgba(0,255,65,0.2); padding:10px; border-radius:5px; margin-top:10px; text-align:center;">
        <strong style="color:#00ff41; font-size:14px;">RESULT: More trust = More opportunities = More earnings</strong>
      </div>
    </div>
    <p style="font-size:11px; color:#ffd700; margin-top:15px; text-align:center; font-style:italic;">
      "Why would a scammer risk 5 SOL? They wouldn't. That's the magic."
    </p>
  </div>
</div>

<!-- CENTER PANEL -->
<div class="center-panel">
  <!-- AGENT REGISTRY FIRST - NO SCROLL NEEDED -->
  <h2 style="margin:0 0 10px; color:#00ff41; font-size:16px;">üìä LIVE AGENT REGISTRY</h2>
  <div id="agent-list" style="max-height:180px; overflow-y:auto;"></div>
  
  <!-- STATS ROW -->
  <div class="stats-grid" style="margin:15px 0;">
    <div class="stat-box">
      <div class="stat-number">4</div>
      <div style="font-size:10px;">AGENTS</div>
    </div>
    <div class="stat-box">
      <div class="stat-number">78</div>
      <div style="font-size:10px;">SOL STAKED</div>
    </div>
    <div class="stat-box">
      <div class="stat-number">156</div>
      <div style="font-size:10px;">VOUCHES</div>
    </div>
  </div>
  
  <!-- TERMINAL LAST -->
  <div class="terminal" style="height:200px;">
    <div class="terminal-header">üñ•Ô∏è LIVE NETWORK MONITOR <span class="blink">‚óè</span></div>
    <div id="terminal-content">
      <div style="color:#666;">$ ./network --monitor --live</div>
    </div>
  </div>
</div>

<!-- RIGHT PANEL -->
<div class="right-panel">
  <div class="calculator-box">
    <h3 style="color:#00ff41; margin-bottom:15px;">üí∞ STAKE CALCULATOR</h3>
    
    <label style="font-size:11px;">TASK TYPE</label>
    <div style="display:flex; flex-wrap:wrap; gap:5px; margin:8px 0;">
      <button onclick="setTask(1)" id="btn-task-1" class="task-btn" style="flex:1; min-width:45%; padding:8px; font-size:10px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">Small Task</button>
      <button onclick="setTask(3)" id="btn-task-3" class="task-btn" style="flex:1; min-width:45%; padding:8px; font-size:10px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">Medium Project</button>
      <button onclick="setTask(5)" id="btn-task-5" class="task-btn" style="flex:1; min-width:45%; padding:8px; font-size:10px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">Large Contract</button>
      <button onclick="setTask(10)" id="btn-task-10" class="task-btn" style="flex:1; min-width:45%; padding:8px; font-size:10px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">Critical System</button>
    </div>
    <p style="font-size:9px; color:#00ff41; margin:5px 0; background:rgba(0,255,65,0.1); padding:5px; border-radius:3px;">üí° MIN: 0.1 SOL | MAX: 5 SOL | Voluntary high stakes = HIGHER TRUST</p>
    
    <label style="font-size:11px;">STAKE AMOUNT (SOL)</label>
    <div style="display:flex; flex-wrap:wrap; gap:5px; margin:8px 0;">
      <button onclick="adjustStake(-0.1)" style="padding:8px 12px; font-size:14px; background:#ff0040; border:none; color:#fff; cursor:pointer; font-weight:bold;">-</button>
      <button onclick="setStake(0.1)" id="btn-stake-01" class="stake-btn" style="flex:1; padding:8px; font-size:11px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">0.1</button>
      <button onclick="setStake(0.25)" id="btn-stake-025" class="stake-btn" style="flex:1; padding:8px; font-size:11px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">0.25</button>
      <button onclick="setStake(0.5)" id="btn-stake-05" class="stake-btn" style="flex:1; padding:8px; font-size:11px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">0.5</button>
      <button onclick="adjustStake(0.1)" style="padding:8px 12px; font-size:14px; background:#00ff41; border:none; color:#000; cursor:pointer; font-weight:bold;">+</button>
    </div>
    <div style="display:flex; flex-wrap:wrap; gap:5px; margin:5px 0;">
      <button onclick="setStake(1)" id="btn-stake-1" class="stake-btn" style="flex:1; padding:10px; font-size:12px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">1 SOL</button>
      <button onclick="setStake(2.5)" id="btn-stake-25" class="stake-btn" style="flex:1; padding:10px; font-size:12px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">2.5 SOL</button>
      <button onclick="setStake(3)" id="btn-stake-3" class="stake-btn" style="flex:1; padding:10px; font-size:12px; background:rgba(0,255,65,0.1); border:1px solid #00ff41; color:#00ff41; cursor:pointer;">3 SOL</button>
      <button onclick="setStake(5)" id="btn-stake-5" class="stake-btn" style="flex:1; padding:10px; font-size:12px; background:rgba(255,215,0,0.2); border:2px solid #ffd700; color:#ffd700; cursor:pointer; font-weight:bold;">5 MAX</button>
    </div>
    <div style="text-align:center; font-size:18px; color:#00ff41; margin:10px 0; font-weight:bold;" id="current-stake-display">0.1 SOL</div>
    
    <label style="font-size:11px;">YOUR REP (0-1000)</label>
    <input type="range" id="rep" min="0" max="1000" value="0" oninput="calc()">
    <p style="text-align:center; font-size:11px; margin:5px 0;"><span id="repval">0 (New)</span></p>
    
    <div class="stake-result">
      <span id="stake">0.1</span> SOL
    </div>
    
    <p id="breakdown" style="font-size:10px; text-align:center; opacity:0.7;"></p>
  </div>
  
  <div class="calculator-box">
    <h3 style="color:#00ff41; margin-bottom:10px;">üõ°Ô∏è ANTI-ABUSE</h3>
    <div style="font-size:12px; line-height:1.8;">
      <div style="color:#00ff41;">‚úÖ Pattern Detection</div>
      <div style="color:#00ff41;">‚úÖ Rep Weighting</div>
      <div style="color:#00ff41;">‚úÖ Cooldown Periods</div>
      <div style="color:#00ff41;">‚úÖ Slashing Risk</div>
    </div>
    <div style="margin-top:15px; padding-top:15px; border-top:1px solid #00ff41;">
      <div style="font-size:10px; color:#ff0040;">‚ö†Ô∏è 12 Flagged</div>
      <div style="font-size:10px; color:#ff0040;">üö´ 3 Slashed</div>
    </div>
  </div>
  
  <div style="text-align:center; font-size:10px; margin-top:20px; opacity:0.5;">
    Built by 0007bot<br>Colosseum 2026
  </div>
</div>

<script>
var currentTask = 1;
var currentStake = 0.1;

function setTask(val) {
  currentTask = val;
  // Update button styles
  [1, 3, 5, 10].forEach(t => {
    const btn = document.getElementById('btn-task-' + t);
    if (btn) {
      if (t === val) {
        btn.style.background = '#00ff41';
        btn.style.color = '#000';
        btn.style.fontWeight = 'bold';
      } else {
        btn.style.background = 'rgba(0,255,65,0.1)';
        btn.style.color = '#00ff41';
        btn.style.fontWeight = 'normal';
      }
    }
  });
  calc();
}

function setStake(val) {
  currentStake = Math.min(5, Math.max(0.1, val));
  updateStakeDisplay();
  
  // Update button styles
  const values = [0.1, 0.25, 0.5, 1, 2.5, 3, 5];
  values.forEach(v => {
    const btn = document.getElementById('btn-stake-' + v.toString().replace('.', ''));
    if (btn) {
      if (Math.abs(v - currentStake) < 0.01) {
        btn.style.background = '#00ff41';
        btn.style.color = '#000';
        btn.style.fontWeight = 'bold';
      } else {
        btn.style.background = v === 5 ? 'rgba(255,215,0,0.2)' : 'rgba(0,255,65,0.1)';
        btn.style.color = v === 5 ? '#ffd700' : '#00ff41';
        btn.style.fontWeight = 'normal';
      }
    }
  });
  calc();
}

function adjustStake(delta) {
  currentStake = Math.min(5, Math.max(0.1, currentStake + delta));
  updateStakeDisplay();
  calc();
}

function updateStakeDisplay() {
  const display = document.getElementById('current-stake-display');
  if (display) display.textContent = currentStake.toFixed(2) + ' SOL';
}

// Calculator - MIN 0.1 SOL, MAX 5 SOL
function calc() {
  var rep = parseInt(document.getElementById('rep').value);
  
  var base = 0.1; // MINIMUM 0.1 SOL
  var discount = rep > 500 ? 0.5 : rep > 100 ? 0.25 : 0;
  var rawStake = base * currentTask * (1 - discount);
  var stake = Math.min(5, rawStake).toFixed(2); // CAP AT 5 SOL
  
  document.getElementById('stake').textContent = stake;
  document.getElementById('repval').textContent = rep + (rep === 0 ? ' (New)' : rep > 500 ? ' (Trusted)' : ' (Active)');
  document.getElementById('breakdown').textContent = 'Min: 0.1 SOL | Task: ' + currentTask + 'x | Discount: ' + (discount*100).toFixed(0) + '% | Max: 5 SOL';
}

// Initialize
setTask(1);
setStake(0.1);

// Live Agents with realistic data
const liveAgents = [
  { name: "AlphaTrade_Bot", address: "7xK...9mP", rep: 850, staked: 45.5, vouchesIn: 156, vouchesOut: 23, accuracy: 94, lastActive: "2s ago", status: "safe" },
  { name: "DataFlow_Pro", address: "9mP...2nB", rep: 720, staked: 32.0, vouchesIn: 89, vouchesOut: 45, accuracy: 91, lastActive: "5s ago", status: "safe" },
  { name: "NewRecruit_07", address: "3kL...8kX", rep: 45, staked: 0.5, vouchesIn: 3, vouchesOut: 2, accuracy: 67, lastActive: "12s ago", status: "warning" },
  { name: "Suspicious_X", address: "5jH...6nQ", rep: -120, staked: 0, vouchesIn: 0, vouchesOut: 0, accuracy: 12, lastActive: "1h ago", status: "danger" }
];

function getStatusColor(rep) {
  return rep > 500 ? '#00ff41' : rep > 0 ? '#ffaa00' : '#ff0040';
}

function getStatusText(status) {
  return status === 'safe' ? '‚úÖ VERIFIED' : status === 'warning' ? '‚ö†Ô∏è MONITORING' : 'üö´ SUSPICIOUS';
}

function renderAgents() {
  const list = document.getElementById('agent-list');
  list.innerHTML = liveAgents.map((a, i) => `
    <div class="agent-card ${a.status === 'danger' ? 'suspicious' : ''}" id="agent-${i}" style="position:relative;">
      <div style="position:absolute; top:5px; right:5px; width:8px; height:8px; background:${a.status === 'safe' ? '#00ff41' : a.status === 'warning' ? '#ffaa00' : '#ff0040'}; border-radius:50%; animation:pulse 2s infinite;"></div>
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <strong style="font-size:13px;">${a.name}</strong>
        <span style="font-size:9px; color:#666; font-family:'Courier New',monospace;">${a.address}</span>
      </div>
      <div style="margin:8px 0; display:flex; align-items:center; gap:10px;">
        <span style="color:${getStatusColor(a.rep)}; font-size:20px; font-weight:bold; text-shadow:0 0 10px ${getStatusColor(a.rep)};" id="rep-${i}">${a.rep}</span>
        <span style="font-size:10px; color:#666;">REP</span>
        <span id="rep-change-${i}" style="font-size:11px; font-weight:bold;"></span>
      </div>
      <div style="font-size:10px; margin:5px 0; display:grid; grid-template-columns:1fr 1fr; gap:5px;">
        <div>üí∞ <span id="stake-${i}">${a.staked.toFixed(1)}</span> SOL</div>
        <div>üéØ <span id="acc-${i}">${a.accuracy}</span>% acc</div>
        <div>üëç <span id="vin-${i}">${a.vouchesIn}</span> in</div>
        <div>üëé <span id="vout-${i}">${a.vouchesOut}</span> out</div>
      </div>
      <div style="display:flex; justify-content:space-between; align-items:center; margin-top:8px;">
        <span style="color:${getStatusColor(a.rep)}; font-size:10px; font-weight:bold;">
          ${getStatusText(a.status)}
        </span>
        <span style="font-size:9px; color:#666;" id="active-${i}">‚óè ${a.lastActive}</span>
      </div>
    </div>
  `).join('');
}
renderAgents();

// Live update simulation - MORE DRAMATIC
function updateAgents() {
  liveAgents.forEach((agent, i) => {
    // Update last active time
    const activeEl = document.getElementById(`active-${i}`);
    if (activeEl && Math.random() > 0.7) {
      const times = ['now', '1s ago', '2s ago', '5s ago', 'just now'];
      agent.lastActive = times[Math.floor(Math.random() * times.length)];
      activeEl.textContent = '‚óè ' + agent.lastActive;
      activeEl.style.color = agent.lastActive === 'now' ? '#00ff41' : '#666';
    }
    
    // Reputation change
    if (Math.random() > 0.3) {
      const change = Math.floor(Math.random() * 40 - 10);
      const oldRep = agent.rep;
      agent.rep = Math.max(-200, Math.min(1000, agent.rep + change));
      
      const repEl = document.getElementById(`rep-${i}`);
      const changeEl = document.getElementById(`rep-change-${i}`);
      if (repEl && changeEl) {
        repEl.textContent = agent.rep;
        repEl.style.color = getStatusColor(agent.rep);
        repEl.style.textShadow = `0 0 15px ${getStatusColor(agent.rep)}`;
        
        const actualChange = agent.rep - oldRep;
        if (actualChange !== 0) {
          changeEl.textContent = actualChange > 0 ? `+${actualChange} ‚ñ≤` : `${actualChange} ‚ñº`;
          changeEl.style.color = actualChange > 0 ? '#00ff41' : '#ff0040';
        } else {
          changeEl.textContent = '';
        }
      }
    }
    
    // Stake change
    if (Math.random() > 0.5) {
      const stakeChange = (Math.random() * 3 - 0.5).toFixed(1);
      agent.staked = Math.max(0.1, agent.staked + parseFloat(stakeChange));
      const stakeEl = document.getElementById(`stake-${i}`);
      if (stakeEl) stakeEl.textContent = agent.staked.toFixed(1);
    }
    
    // Accuracy change
    if (Math.random() > 0.6) {
      const accChange = Math.floor(Math.random() * 6 - 2);
      agent.accuracy = Math.max(0, Math.min(100, agent.accuracy + accChange));
      const accEl = document.getElementById(`acc-${i}`);
      if (accEl) accEl.textContent = agent.accuracy;
    }
    
    // Vouch count change
    if (Math.random() > 0.5) {
      if (Math.random() > 0.4) agent.vouchesIn++;
      else agent.vouchesOut++;
      const vinEl = document.getElementById(`vin-${i}`);
      const voutEl = document.getElementById(`vout-${i}`);
      if (vinEl) vinEl.textContent = agent.vouchesIn;
      if (voutEl) voutEl.textContent = agent.vouchesOut;
    }
  });
}

setInterval(updateAgents, 600); // Update every 0.6 seconds

// Terminal Simulation
const term = document.getElementById('terminal-content');
const logs = [
  { c: 'log-reg', t: () => `[${time()}] ‚úÖ Agent_${rand()} registered | Rep: 50`, bg: false },
  { c: 'log-vouch', t: () => `[${time()}] üëç Vouch: ${rand()} ‚Üí ${rand()} | ${(Math.random()*2).toFixed(1)} SOL`, bg: false },
  { c: 'log-vouch', t: () => `[${time()}] üëé Negative vouch from ${rand()} | Risk: ${(Math.random()*0.5).toFixed(2)} SOL`, bg: false },
  { c: 'log-alert', t: () => `[${time()}] ‚ö†Ô∏è Pattern: Rapid vouching from 7xKX...`, bg: true, bgc: '#ffaa00', col: '#000' },
  { c: 'log-slash', t: () => `[${time()}] üö´ SLASHED: ${rand()} | Lost: ${(Math.random()*5+0.5).toFixed(2)} SOL`, bg: true, bgc: '#ff0040', col: '#fff' },
  { c: 'log-rep', t: () => `[${time()}] üìà REP CHANGE: ${rand()} | +${Math.floor(Math.random()*200)} points`, bg: true, bgc: '#00ff41', col: '#000' },
  { c: 'log-stake', t: () => `[${time()}] üí∞ MEGA STAKE: ${rand()} | ${(Math.random()*50+10).toFixed(1)} SOL`, bg: true, bgc: '#00ccff', col: '#000' }
];

function time() { return new Date().toLocaleTimeString('en-US', {hour12:false}); }
function rand() { return Math.random().toString(36).substring(7); }

function addLog() {
  const l = logs[Math.floor(Math.random() * logs.length)];
  const d = document.createElement('div');
  d.className = 'log-entry ' + l.c;
  d.textContent = l.t();
  if (l.bg) {
    d.style.background = l.bgc;
    d.style.color = l.col;
    d.style.padding = '2px 5px';
    d.style.fontWeight = 'bold';
    d.style.boxShadow = '0 0 10px ' + l.bgc;
  }
  term.appendChild(d);
  if (term.children.length > 15) term.removeChild(term.firstChild);
  term.parentElement.scrollTop = term.parentElement.scrollHeight;
}

for (let i = 0; i < 5; i++) setTimeout(addLog, i * 400);
setInterval(addLog, 2000);
</script>

</body>
</html>
